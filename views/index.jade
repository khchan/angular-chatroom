extends layout

block body
  div#content(layout='row' ng-controller='AppCtrl' layout-margin layout-fill)
    
    //- div#videopanel(flex='50')
    //-   h3 Video
    //-   | This is the video

    div#chatpanel(flex='75')
      h3 Messages
      md-content.overflowable(scroll-glue)
        md-list
          md-item(ng-repeat='message in messages')
            p(ng-if='message.user === "chatroom"')
              | &nbsp;{{message.text}}
            md-item-content(ng-if='message.user !== "chatroom"')
              .md-tile-left(ng-if='message.user !== name')
                  img(ng-src='img/unnamed.jpg' class='face')
              .md-tile-content
                md-card
                  md-card-content(ng-class='{alignright: message.user === name}')
                    h4
                      | {{message.user}}
                    p
                      | {{message.text}}
              .md-tile-right(ng-if='message.user === name')
                  img(ng-src='img/unnamed.jpg' class='face')
                  
    div#optionpanel(flex)
      h3 Users  
      p(ng-repeat='user in users') {{user}}

      form(ng-submit='changeName()')
        md-input-container
          label
            | Your current user name is {{name}}
          input(ng-model='newName', placeholder='New Name')

      .clr
        form(ng-submit='sendMessage()')
          md-input-container
            label
              | Say something
            input(ng-model='message', placeholder='Hello World!')

  script(src='bower_components/angular/angular.js')
  script(src='bower_components/angular-animate/angular-animate.js')
  script(src='bower_components/angular-aria/angular-aria.js')
  script(src='bower_components/angular-material/angular-material.js')
  script(src='bower_components/angular-scroll-glue/src/scrollglue.js')
  script(src='/socket.io/socket.io.js')
  script(src='js/app.js')
  script(src='js/services.js')
  script(src='js/controllers.js')
  script(src='js/filters.js')
  script(src='js/directives.js')
